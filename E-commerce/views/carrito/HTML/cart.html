<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Item_Cart</title>
    <link rel="stylesheet" href="../CSS/cart.css">
</head>
<body>

    <div id="navbar-container">
        <script>
            fetch('/navbar/navbar.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('navbar-container').innerHTML = data;
                    const menuButton = document.getElementById('menu-button');
                    const submenu = document.getElementById('submenu');

                    if (menuButton && submenu) {
                        menuButton.addEventListener('click', function (event) {
                            event.stopPropagation();
                            if (submenu.style.display === 'none' || submenu.style.display === '') {
                                submenu.style.display = 'block';
                            } else {
                                submenu.style.display = 'none';
                            }
                        });

                        document.addEventListener('click', function (event) {
                            if (!menuButton.contains(event.target) && !submenu.contains(event.target)) {
                                submenu.style.display = 'none';
                            }
                        });
                    }

                    const navbarcarrito = document.querySelector('.cart-icon');
                    if (navbarcarrito) {
                        navbarcarrito.addEventListener('click', () => {
                            window.location.href = '/carrito';
                        });
                    }

                    const navbarLogo = document.querySelector('.navbar-logo');
                    if (navbarLogo) {
                        navbarLogo.addEventListener('click', () => {
                            window.location.href = '/principal';
                        });
                    }

                    const searchInput = document.querySelector('.navbar-search input');
                    const searchButton = document.querySelector('.navbar-search .search-button');

                    // Rellena el buscador con el término de la URL si existe
                    const urlParams = new URLSearchParams(window.location.search);
                    const query = urlParams.get('q');
                    if (query && searchInput) {
                        searchInput.value = decodeURIComponent(query);
                    }

                    // Redirige al buscar con validación
                    if (searchInput && searchButton) {
                        searchButton.addEventListener('click', () => {
                            const query = searchInput.value.trim();
                            if (query) {
                                window.location.href = `/search?q=${encodeURIComponent(query)}`;
                            } else {
                                alert("Por favor ingresa un término de búsqueda.");
                            }
                        });
                    }

                })
                .catch(error => console.error('Error al cargar el navbar:', error));
        </script>
    </div>

    
    <div class="container">
        <div class="cart-container">
            <div class="cart-nota">
                <div class="nota">
                    &nbsp;&nbsp;&nbsp;&nbsp;Carrito
                </div>
                <div class="todos">
                    <div>
                        <input type="radio" name="" id="">&nbsp;&nbsp;&nbsp;&nbsp;
                    </div>
                    <div>
                        Seleccionar Todos los elementos
                    </div>
                </div>
            </div>
            <div class="cart-item">
                <div class="item">
                    <div class="sel">
                        <div class="selec">
                            <input type="radio" name="" id="">
                        </div>
                        <div class="imagen">
                            <img src="cargar la imagen1"  width="100%" height="100%">
                        </div>
                    </div>
                    <div class="datos">
                        <div class="nombre">
                            nombre
                        </div>
                        <div class="descrip">
                            description
                        </div>
                        <div class="precio">
                            30 bs.
                        </div>
                        <div class="envio">
                            envio: +5bs
                        </div>
                    </div>
                    <div class="add">
                        <div class="borrar">
                            <img src="eliminar.png" alt="" width="100%" height="100%">
                        </div>
                        <div class="cant"><button class="btnc" id="btn-minus">-</button><span id="quantity">&nbsp;&nbsp;0&nbsp;&nbsp;</span><button
                            class="btnc" id="btn-plus">+</button></div>
                    </div>
                </div>
            </div>
        </div> 
        <div class="resumen">

            <div class="pago">
                <div class="resu">Resumen</div>
                <div class="sub">Subtotal:&nbsp;&nbsp;</div>
                <div class="gasto">Gasto de envio:&nbsp;&nbsp;</div>
                <div class="total">Total estimado:&nbsp;&nbsp;</div>
                <div class="bb"><button class="car">Pagar</button></div>
            </div>
            <div class="forma">
                <div class="p">
                    Pagar con:
                </div>
                <div class="tipo">
                    <img src="eliminar.png" alt="" width="100%" height="100%">
                </div>
            </div>

        </div>
    </div>


</body>
</html>